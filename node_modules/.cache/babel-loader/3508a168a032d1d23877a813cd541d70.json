{"ast":null,"code":"import _defineProperty from \"/Users/a18322/Desktop/podstruct-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/a18322/Desktop/podstruct-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/a18322/Desktop/podstruct-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/Users/a18322/Desktop/podstruct-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/Users/a18322/Desktop/podstruct-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\n\nvar _jsxFileName = \"/Users/a18322/Desktop/podstruct-fe/src/components/Layout/Sidebar.js\",\n    _this = this;\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation, Trans } from 'react-i18next';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Collapse, Badge } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as actions from '../../store/actions/actions';\nimport SidebarRun from './Sidebar.run';\nimport SidebarUserBlock from './SidebarUserBlock';\nimport Menu from '../../Menu.js';\n/** Component to display headings on sidebar */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar SidebarItemHeader = function SidebarItemHeader(_ref) {\n  var item = _ref.item;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"nav-heading\",\n    children: /*#__PURE__*/_jsxDEV(\"span\", {\n      children: /*#__PURE__*/_jsxDEV(Trans, {\n        i18nKey: item.translate,\n        children: item.heading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 15\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, _this);\n};\n/** Normal items for the sidebar */\n\n\n_c = SidebarItemHeader;\n\nvar SidebarItem = function SidebarItem(_ref2) {\n  var item = _ref2.item,\n      isActive = _ref2.isActive;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: isActive ? 'active' : '',\n    children: /*#__PURE__*/_jsxDEV(Link, {\n      to: item.path,\n      title: item.name,\n      children: [item.label && /*#__PURE__*/_jsxDEV(Badge, {\n        tag: \"div\",\n        className: \"float-right\",\n        color: item.label.color,\n        children: item.label.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 28\n      }, _this), item.icon && /*#__PURE__*/_jsxDEV(\"em\", {\n        className: item.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 27\n      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          i18nKey: item.translate,\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 19\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, _this);\n};\n/** Build a sub menu with items inside and attach collapse behavior */\n\n\n_c2 = SidebarItem;\n\nvar SidebarSubItem = function SidebarSubItem(_ref3) {\n  var item = _ref3.item,\n      isActive = _ref3.isActive,\n      handler = _ref3.handler,\n      children = _ref3.children,\n      isOpen = _ref3.isOpen;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: isActive ? 'active' : '',\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"nav-item\",\n      onClick: handler,\n      children: [item.label && /*#__PURE__*/_jsxDEV(Badge, {\n        tag: \"div\",\n        className: \"float-right\",\n        color: item.label.color,\n        children: item.label.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 28\n      }, _this), item.icon && /*#__PURE__*/_jsxDEV(\"em\", {\n        className: item.icon\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 27\n      }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: /*#__PURE__*/_jsxDEV(Trans, {\n          i18nKey: item.translate,\n          children: item.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 19\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 13\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(Collapse, {\n      isOpen: isOpen,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        id: item.path,\n        className: \"sidebar-nav sidebar-subnav\",\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, _this);\n};\n/** Component used to display a header on menu when using collapsed/hover mode */\n\n\n_c3 = SidebarSubItem;\n\nvar SidebarSubHeader = function SidebarSubHeader(_ref4) {\n  var item = _ref4.item;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: \"sidebar-subnav-header\",\n    children: item.name\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, _this);\n};\n\n_c4 = SidebarSubHeader;\n\nvar Sidebar = /*#__PURE__*/function (_Component) {\n  _inherits(Sidebar, _Component);\n\n  var _super = _createSuper(Sidebar);\n\n  function Sidebar() {\n    var _this2;\n\n    _classCallCheck(this, Sidebar);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this2 = _super.call.apply(_super, [this].concat(args));\n    _this2.state = {\n      collapse: {}\n    };\n\n    _this2.closeSidebar = function () {\n      _this2.props.actions.changeSetting('asideToggled', false);\n    };\n\n    _this2.buildCollapseList = function () {\n      var collapse = {};\n      Menu.filter(function (_ref5) {\n        var heading = _ref5.heading;\n        return !heading;\n      }).forEach(function (_ref6) {\n        var name = _ref6.name,\n            path = _ref6.path,\n            submenu = _ref6.submenu;\n        collapse[name] = _this2.routeActive(submenu ? submenu.map(function (_ref7) {\n          var path = _ref7.path;\n          return path;\n        }) : path);\n      });\n\n      _this2.setState({\n        collapse: collapse\n      });\n    };\n\n    _this2.navigator = function (route) {\n      _this2.props.history.push(route.replace('#', '')); // remove '#' in case of use HashRouter\n\n    };\n\n    _this2.getSubRoutes = function (item) {\n      return item.submenu.map(function (_ref8) {\n        var path = _ref8.path;\n        return path;\n      });\n    };\n\n    _this2.itemType = function (item) {\n      if (item.heading) return 'heading';\n      if (!item.submenu) return 'menu';\n      if (item.submenu) return 'submenu';\n    };\n\n    return _this2;\n  }\n\n  _createClass(Sidebar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // pass navigator to access router api\n      SidebarRun(this.navigator, this.closeSidebar); // prepare the flags to handle menu collapsed states\n\n      this.buildCollapseList(); // Listen for routes changes in order to hide the sidebar on mobile\n\n      this.props.history.listen(this.closeSidebar);\n    }\n  }, {\n    key: \"routeActive\",\n    value: function routeActive(paths) {\n      var _this3 = this;\n\n      paths = Array.isArray(paths) ? paths : [paths];\n      return paths.some(function (p) {\n        return _this3.props.location.pathname.indexOf(p) > -1;\n      });\n    }\n  }, {\n    key: \"toggleItemCollapse\",\n    value: function toggleItemCollapse(stateName) {\n      // eslint-disable-next-line\n      for (var c in this.state.collapse) {\n        if (this.state.collapse[c] === true && c !== stateName) this.setState({\n          collapse: _defineProperty({}, c, false)\n        });\n      }\n\n      this.setState({\n        collapse: _defineProperty({}, stateName, !this.state.collapse[stateName])\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"aside-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"aside-inner\",\n          children: /*#__PURE__*/_jsxDEV(\"nav\", {\n            \"data-sidebar-anyclick-close\": \"\",\n            className: \"sidebar\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"sidebar-nav\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"has-user-block\",\n                children: /*#__PURE__*/_jsxDEV(SidebarUserBlock, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 29\n              }, this), Menu.map(function (item, i) {\n                // heading\n                if (_this4.itemType(item) === 'heading') return /*#__PURE__*/_jsxDEV(SidebarItemHeader, {\n                  item: item\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 45\n                }, _this4);else {\n                  if (_this4.itemType(item) === 'menu') return /*#__PURE__*/_jsxDEV(SidebarItem, {\n                    isActive: _this4.routeActive(item.path),\n                    item: item\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 49\n                  }, _this4);\n                  if (_this4.itemType(item) === 'submenu') return [/*#__PURE__*/_jsxDEV(SidebarSubItem, {\n                    item: item,\n                    isOpen: _this4.state.collapse[item.name],\n                    handler: _this4.toggleItemCollapse.bind(_this4, item.name),\n                    isActive: _this4.routeActive(_this4.getSubRoutes(item)),\n                    children: [/*#__PURE__*/_jsxDEV(SidebarSubHeader, {\n                      item: item\n                    }, i, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 53\n                    }, _this4), item.submenu.map(function (subitem, i) {\n                      return /*#__PURE__*/_jsxDEV(SidebarItem, {\n                        item: subitem,\n                        isActive: _this4.routeActive(subitem.path)\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 154,\n                        columnNumber: 61\n                      }, _this4);\n                    })]\n                  }, i, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 49\n                  }, _this4)];\n                }\n                return null; // unrecognized item\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return Sidebar;\n}(Component);\n\nSidebar.propTypes = {\n  actions: PropTypes.object,\n  settings: PropTypes.object\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    settings: state.settings\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    actions: bindActionCreators(actions, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withTranslation('translations')(withRouter(Sidebar)));\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"SidebarItemHeader\");\n$RefreshReg$(_c2, \"SidebarItem\");\n$RefreshReg$(_c3, \"SidebarSubItem\");\n$RefreshReg$(_c4, \"SidebarSubHeader\");","map":{"version":3,"sources":["/Users/a18322/Desktop/podstruct-fe/src/components/Layout/Sidebar.js"],"names":["React","Component","PropTypes","withTranslation","Trans","Link","withRouter","Collapse","Badge","connect","bindActionCreators","actions","SidebarRun","SidebarUserBlock","Menu","SidebarItemHeader","item","translate","heading","SidebarItem","isActive","path","name","label","color","value","icon","SidebarSubItem","handler","children","isOpen","SidebarSubHeader","Sidebar","state","collapse","closeSidebar","props","changeSetting","buildCollapseList","filter","forEach","submenu","routeActive","map","setState","navigator","route","history","push","replace","getSubRoutes","itemType","listen","paths","Array","isArray","some","p","location","pathname","indexOf","stateName","c","i","toggleItemCollapse","bind","subitem","propTypes","object","settings","mapStateToProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation, Trans } from 'react-i18next';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { Collapse, Badge } from 'reactstrap';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../../store/actions/actions';\r\n\r\nimport SidebarRun from './Sidebar.run';\r\nimport SidebarUserBlock from './SidebarUserBlock';\r\n\r\nimport Menu from '../../Menu.js';\r\n\r\n/** Component to display headings on sidebar */\r\nconst SidebarItemHeader = ({item}) => (\r\n    <li className=\"nav-heading\">\r\n        <span><Trans i18nKey={item.translate}>{item.heading}</Trans></span>\r\n    </li>\r\n)\r\n\r\n/** Normal items for the sidebar */\r\nconst SidebarItem = ({item, isActive}) => (\r\n    <li className={ isActive ? 'active' : '' }>\r\n        <Link to={item.path} title={item.name}>\r\n            {item.label && <Badge tag=\"div\" className=\"float-right\" color={item.label.color}>{item.label.value}</Badge>}\r\n            {item.icon && <em className={item.icon}></em>}\r\n            <span><Trans i18nKey={item.translate}>{item.name}</Trans></span>\r\n        </Link>\r\n    </li>\r\n)\r\n\r\n/** Build a sub menu with items inside and attach collapse behavior */\r\nconst SidebarSubItem = ({item, isActive, handler, children, isOpen}) => (\r\n    <li className={ isActive ? 'active' : '' }>\r\n        <div className=\"nav-item\" onClick={ handler }>\r\n            {item.label && <Badge tag=\"div\" className=\"float-right\" color={item.label.color}>{item.label.value}</Badge>}\r\n            {item.icon && <em className={item.icon}></em>}\r\n            <span><Trans i18nKey={item.translate}>{item.name}</Trans></span>\r\n        </div>\r\n        <Collapse isOpen={ isOpen }>\r\n            <ul id={item.path} className=\"sidebar-nav sidebar-subnav\">\r\n                { children }\r\n            </ul>\r\n        </Collapse>\r\n    </li>\r\n)\r\n\r\n/** Component used to display a header on menu when using collapsed/hover mode */\r\nconst SidebarSubHeader = ({item}) => (\r\n    <li className=\"sidebar-subnav-header\">{item.name}</li>\r\n)\r\n\r\nclass Sidebar extends Component {\r\n\r\n    state = {\r\n        collapse: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n        // pass navigator to access router api\r\n        SidebarRun(this.navigator, this.closeSidebar);\r\n        // prepare the flags to handle menu collapsed states\r\n        this.buildCollapseList()\r\n\r\n        // Listen for routes changes in order to hide the sidebar on mobile\r\n        this.props.history.listen(this.closeSidebar);\r\n    }\r\n\r\n    closeSidebar = () => {\r\n        this.props.actions.changeSetting('asideToggled', false);\r\n    }\r\n\r\n    /** prepare initial state of collapse menus. Doesnt allow same route names */\r\n    buildCollapseList = () => {\r\n        let collapse = {};\r\n        Menu\r\n            .filter(({heading}) => !heading)\r\n            .forEach(({name, path, submenu}) => {\r\n                collapse[name] = this.routeActive(submenu ? submenu.map(({path})=>path) : path)\r\n            })\r\n        this.setState({collapse});\r\n    }\r\n\r\n    navigator = route => {\r\n        this.props.history.push(route.replace('#','')); // remove '#' in case of use HashRouter\r\n    }\r\n\r\n    routeActive(paths) {\r\n        paths = Array.isArray(paths) ? paths : [paths];\r\n        return paths.some(p => this.props.location.pathname.indexOf(p) > -1)\r\n    }\r\n\r\n    toggleItemCollapse(stateName) {\r\n        // eslint-disable-next-line\r\n        for (let c in this.state.collapse) {\r\n            if (this.state.collapse[c] === true && c !== stateName)\r\n                this.setState({\r\n                    collapse: {\r\n                        [c]: false\r\n                    }\r\n                });\r\n        }\r\n        this.setState({\r\n            collapse: {\r\n                [stateName]: !this.state.collapse[stateName]\r\n            }\r\n        });\r\n    }\r\n\r\n    getSubRoutes = item => item.submenu.map(({path}) => path)\r\n\r\n    /** map menu config to string to determine which element to render */\r\n    itemType = item => {\r\n        if (item.heading) return 'heading';\r\n        if (!item.submenu) return 'menu';\r\n        if (item.submenu) return 'submenu';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <aside className='aside-container'>\r\n                { /* START Sidebar (left) */ }\r\n                <div className=\"aside-inner\">\r\n                    <nav data-sidebar-anyclick-close=\"\" className=\"sidebar\">\r\n                        { /* START sidebar nav */ }\r\n                        <ul className=\"sidebar-nav\">\r\n                            { /* START user info */ }\r\n                            <li className=\"has-user-block\">\r\n                                <SidebarUserBlock/>\r\n                            </li>\r\n                            { /* END user info */ }\r\n\r\n                            { /* Iterates over all sidebar items */ }\r\n                            {\r\n                                Menu.map((item, i) => {\r\n                                    // heading\r\n                                    if(this.itemType(item) === 'heading')\r\n                                        return (\r\n                                            <SidebarItemHeader item={item} key={i} />\r\n                                        )\r\n                                    else {\r\n                                        if(this.itemType(item) === 'menu')\r\n                                            return (\r\n                                                <SidebarItem isActive={this.routeActive(item.path)} item={item} key={i} />\r\n                                            )\r\n                                        if(this.itemType(item) === 'submenu')\r\n                                            return [\r\n                                                <SidebarSubItem item={item} isOpen={this.state.collapse[item.name]} handler={ this.toggleItemCollapse.bind(this, item.name) } isActive={this.routeActive(this.getSubRoutes(item))} key={i}>\r\n                                                    <SidebarSubHeader item={item} key={i}/>\r\n                                                    {\r\n                                                        item.submenu.map((subitem, i) =>\r\n                                                            <SidebarItem key={i} item={subitem} isActive={this.routeActive(subitem.path)} />\r\n                                                        )\r\n                                                    }\r\n                                                </SidebarSubItem>\r\n                                            ]\r\n                                    }\r\n                                    return null; // unrecognized item\r\n                                })\r\n                            }\r\n                        </ul>\r\n                        { /* END sidebar nav */ }\r\n                    </nav>\r\n                </div>\r\n                { /* END Sidebar (left) */ }\r\n            </aside>\r\n        );\r\n    }\r\n}\r\n\r\nSidebar.propTypes = {\r\n    actions: PropTypes.object,\r\n    settings: PropTypes.object\r\n};\r\n\r\nconst mapStateToProps = state => ({ settings: state.settings })\r\nconst mapDispatchToProps = dispatch => ({ actions: bindActionCreators(actions, dispatch) })\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(withTranslation('translations')(withRouter(Sidebar)));\r\n"]},"metadata":{},"sourceType":"module"}