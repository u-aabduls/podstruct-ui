{"ast":null,"code":"import $ from '../Common/wrapper.js';\nexport default (function (navigator, closeSidebar) {\n  var _s = $RefreshSig$();\n\n  var $html = $('html');\n  var $body = $('body');\n  var $sidebar = $('.sidebar'); // AUTOCOLLAPSE ITEMS\n  // -----------------------------------\n\n  var sidebarCollapse = $sidebar.find('.collapse');\n  sidebarCollapse.on('show.bs.collapse', function (event) {\n    event.stopPropagation();\n    if ($(this).parents('.collapse').length === 0) sidebarCollapse.filter('.show').collapse('hide');\n  }); // SIDEBAR COLLAPSED ITEM HANDLER\n  // -----------------------------------\n\n  var eventName = isTouch() ? 'click' : 'mouseenter';\n  var subNav = $();\n  $sidebar.find('.sidebar-nav > li').on(eventName, _s(function () {\n    _s();\n\n    if (isSidebarCollapsed() || useAsideHover()) {\n      subNav.trigger('mouseleave');\n      subNav = toggleMenuItem($(this)); // Used to detect click and touch events outside the sidebar\n\n      sidebarAddBackdrop();\n    }\n  }, \"EV/2WSjNzQAwLLMOW7D4q7j/La8=\", false, function () {\n    return [useAsideHover];\n  }));\n  var sidebarAnyclickClose = $sidebar.data('sidebarAnyclickClose'); // Allows to close\n\n  if (typeof sidebarAnyclickClose !== 'undefined') {\n    $('.wrapper').on('click.sidebar', function (e) {\n      // don't check if sidebar not visible\n      if (!isSidebarToggled()) return;\n      var $target = $(e.target);\n\n      if (!$target.parents('.aside-container').length && // if not child of sidebar\n      !$target.parents('.topnavbar-wrapper').length && // if not child of header\n      !$target.is('#user-block-toggle') && // user block toggle anchor\n      !$target.parent().is('#user-block-toggle') // user block toggle icon\n      ) {\n          closeSidebar();\n        }\n    });\n  }\n\n  function sidebarAddBackdrop() {\n    var $backdrop = $('<div/>', {\n      'class': 'sidebar-backdrop'\n    });\n    $backdrop.insertAfter('.aside-container').on(\"click mouseenter\", function () {\n      removeFloatingNav();\n    });\n  } // Open the collapse sidebar submenu items when on touch devices\n  // - desktop only opens on hover\n\n\n  function toggleTouchItem($element) {\n    $element.siblings('li').removeClass('open');\n    $element.toggleClass('open');\n  } // Handles hover to open items under collapsed menu\n  // -----------------------------------\n\n\n  function toggleMenuItem($listItem) {\n    removeFloatingNav();\n    var ul = $listItem.find('.sidebar-nav');\n    if (!ul.length) return $();\n\n    if ($listItem.hasClass('open')) {\n      toggleTouchItem($listItem);\n      return $();\n    }\n\n    var $aside = $('.aside-container');\n    var $asideInner = $('.aside-inner'); // for top offset calculation\n    // float aside uses extra padding on aside\n\n    var mar = parseInt($asideInner.css('padding-top'), 0) + parseInt($aside.css('padding-top'), 0);\n    var subNav = reactClone(ul.clone()).appendTo($aside);\n    toggleTouchItem($listItem);\n    var itemTop = $listItem.position().top + mar - $sidebar.scrollTop();\n    var vwHeight = document.body.clientHeight;\n    subNav.find('a').on('click.subnav', function (e) {\n      e.preventDefault();\n      var href = $(this).attr('href');\n      navigator(href);\n    });\n    subNav.addClass('nav-floating').css({\n      position: isFixed() ? 'fixed' : 'absolute',\n      top: itemTop,\n      bottom: subNav.outerHeight(true) + itemTop > vwHeight ? 0 : 'auto'\n    });\n    subNav.on('mouseleave', function () {\n      toggleTouchItem($listItem);\n      subNav.remove();\n    });\n    return subNav;\n  }\n\n  function reactClone(domNode) {\n    // quick element clone using a dummy reactid\n    // domNode.find('[data-reactid]').andSelf().each(function(idx, el){\n    //     el.setAttribute('data-reactid', el.getAttribute('data-reactid') + ('.0'+idx));\n    // });\n    return domNode;\n  }\n\n  function removeFloatingNav() {\n    $('.sidebar-subnav.nav-floating').remove();\n    $('.sidebar-backdrop').remove();\n    $('.sidebar li.open').removeClass('open');\n  }\n\n  function isTouch() {\n    return $html.hasClass('touch');\n  }\n\n  function isSidebarCollapsed() {\n    return $body.hasClass('aside-collapsed') || $body.hasClass('aside-collapsed-text');\n  }\n\n  function isSidebarToggled() {\n    return $body.hasClass('aside-toggled');\n  }\n  /*\r\n  function isMobile() {\r\n      return document.body.clientWidth < APP_MEDIAQUERY.tablet;\r\n  }*/\n\n\n  function isFixed() {\n    return $body.hasClass('layout-fixed');\n  }\n\n  function useAsideHover() {\n    return $body.hasClass('aside-hover');\n  }\n}); // rendered","map":{"version":3,"sources":["/Users/a18322/Desktop/podstruct-fe/src/components/Layout/Sidebar.run.js"],"names":["$","navigator","closeSidebar","$html","$body","$sidebar","sidebarCollapse","find","on","event","stopPropagation","parents","length","filter","collapse","eventName","isTouch","subNav","isSidebarCollapsed","useAsideHover","trigger","toggleMenuItem","sidebarAddBackdrop","sidebarAnyclickClose","data","e","isSidebarToggled","$target","target","is","parent","$backdrop","insertAfter","removeFloatingNav","toggleTouchItem","$element","siblings","removeClass","toggleClass","$listItem","ul","hasClass","$aside","$asideInner","mar","parseInt","css","reactClone","clone","appendTo","itemTop","position","top","scrollTop","vwHeight","document","body","clientHeight","preventDefault","href","attr","addClass","isFixed","bottom","outerHeight","remove","domNode"],"mappings":"AAAA,OAAOA,CAAP,MAAc,sBAAd;AAEA,gBAAe,UAACC,SAAD,EAAYC,YAAZ,EAA6B;AAAA;;AAExC,MAAIC,KAAK,GAAGH,CAAC,CAAC,MAAD,CAAb;AACA,MAAII,KAAK,GAAGJ,CAAC,CAAC,MAAD,CAAb;AACA,MAAIK,QAAQ,GAAGL,CAAC,CAAC,UAAD,CAAhB,CAJwC,CAMxC;AACA;;AAEA,MAAIM,eAAe,GAAGD,QAAQ,CAACE,IAAT,CAAc,WAAd,CAAtB;AACAD,EAAAA,eAAe,CAACE,EAAhB,CAAmB,kBAAnB,EAAuC,UAASC,KAAT,EAAgB;AAEnDA,IAAAA,KAAK,CAACC,eAAN;AACA,QAAIV,CAAC,CAAC,IAAD,CAAD,CAAQW,OAAR,CAAgB,WAAhB,EAA6BC,MAA7B,KAAwC,CAA5C,EACIN,eAAe,CAACO,MAAhB,CAAuB,OAAvB,EAAgCC,QAAhC,CAAyC,MAAzC;AAEP,GAND,EAVwC,CAkBxC;AACA;;AAGA,MAAIC,SAAS,GAAGC,OAAO,KAAK,OAAL,GAAe,YAAtC;AACA,MAAIC,MAAM,GAAGjB,CAAC,EAAd;AACAK,EAAAA,QAAQ,CAACE,IAAT,CAAc,mBAAd,EAAmCC,EAAnC,CAAsCO,SAAtC,KAAiD,YAAW;AAAA;;AAExD,QAAIG,kBAAkB,MAAMC,aAAa,EAAzC,EAA6C;AAEzCF,MAAAA,MAAM,CAACG,OAAP,CAAe,YAAf;AACAH,MAAAA,MAAM,GAAGI,cAAc,CAACrB,CAAC,CAAC,IAAD,CAAF,CAAvB,CAHyC,CAKzC;;AACAsB,MAAAA,kBAAkB;AACrB;AAEJ,GAXD;AAAA,YAEgCH,aAFhC;AAAA;AAaA,MAAII,oBAAoB,GAAGlB,QAAQ,CAACmB,IAAT,CAAc,sBAAd,CAA3B,CArCwC,CAuCxC;;AACA,MAAI,OAAOD,oBAAP,KAAgC,WAApC,EAAiD;AAE7CvB,IAAAA,CAAC,CAAC,UAAD,CAAD,CAAcQ,EAAd,CAAiB,eAAjB,EAAkC,UAASiB,CAAT,EAAY;AAC1C;AACA,UAAI,CAACC,gBAAgB,EAArB,EAAyB;AAEzB,UAAIC,OAAO,GAAG3B,CAAC,CAACyB,CAAC,CAACG,MAAH,CAAf;;AACA,UAAI,CAACD,OAAO,CAAChB,OAAR,CAAgB,kBAAhB,EAAoCC,MAArC,IAA+C;AAC/C,OAACe,OAAO,CAAChB,OAAR,CAAgB,oBAAhB,EAAsCC,MADvC,IACiD;AACjD,OAACe,OAAO,CAACE,EAAR,CAAW,oBAAX,CAFD,IAEqC;AACrC,OAACF,OAAO,CAACG,MAAR,GAAiBD,EAAjB,CAAoB,oBAApB,CAHL,CAG+C;AAH/C,QAIE;AACE3B,UAAAA,YAAY;AACf;AAEJ,KAbD;AAcH;;AAID,WAASoB,kBAAT,GAA8B;AAC1B,QAAIS,SAAS,GAAG/B,CAAC,CAAC,QAAD,EAAW;AAAE,eAAS;AAAX,KAAX,CAAjB;AACA+B,IAAAA,SAAS,CAACC,WAAV,CAAsB,kBAAtB,EAA0CxB,EAA1C,CAA6C,kBAA7C,EAAiE,YAAW;AACxEyB,MAAAA,iBAAiB;AACpB,KAFD;AAGH,GAjEuC,CAmExC;AACA;;;AACA,WAASC,eAAT,CAAyBC,QAAzB,EAAmC;AAC/BA,IAAAA,QAAQ,CACHC,QADL,CACc,IADd,EAEKC,WAFL,CAEiB,MAFjB;AAGAF,IAAAA,QAAQ,CACHG,WADL,CACiB,MADjB;AAEH,GA3EuC,CA6ExC;AACA;;;AACA,WAASjB,cAAT,CAAwBkB,SAAxB,EAAmC;AAE/BN,IAAAA,iBAAiB;AAEjB,QAAIO,EAAE,GAAGD,SAAS,CAAChC,IAAV,CAAe,cAAf,CAAT;AAEA,QAAI,CAACiC,EAAE,CAAC5B,MAAR,EAAgB,OAAOZ,CAAC,EAAR;;AAChB,QAAIuC,SAAS,CAACE,QAAV,CAAmB,MAAnB,CAAJ,EAAgC;AAC5BP,MAAAA,eAAe,CAACK,SAAD,CAAf;AACA,aAAOvC,CAAC,EAAR;AACH;;AAED,QAAI0C,MAAM,GAAG1C,CAAC,CAAC,kBAAD,CAAd;AACA,QAAI2C,WAAW,GAAG3C,CAAC,CAAC,cAAD,CAAnB,CAb+B,CAaM;AACrC;;AACA,QAAI4C,GAAG,GAAGC,QAAQ,CAACF,WAAW,CAACG,GAAZ,CAAgB,aAAhB,CAAD,EAAiC,CAAjC,CAAR,GAA8CD,QAAQ,CAACH,MAAM,CAACI,GAAP,CAAW,aAAX,CAAD,EAA4B,CAA5B,CAAhE;AAEA,QAAI7B,MAAM,GAAG8B,UAAU,CAACP,EAAE,CAACQ,KAAH,EAAD,CAAV,CAAuBC,QAAvB,CAAgCP,MAAhC,CAAb;AAEAR,IAAAA,eAAe,CAACK,SAAD,CAAf;AAEA,QAAIW,OAAO,GAAIX,SAAS,CAACY,QAAV,GAAqBC,GAArB,GAA2BR,GAA5B,GAAmCvC,QAAQ,CAACgD,SAAT,EAAjD;AACA,QAAIC,QAAQ,GAAGC,QAAQ,CAACC,IAAT,CAAcC,YAA7B;AAEAxC,IAAAA,MAAM,CAACV,IAAP,CAAY,GAAZ,EACKC,EADL,CACQ,cADR,EACwB,UAASiB,CAAT,EAAY;AAC5BA,MAAAA,CAAC,CAACiC,cAAF;AACA,UAAIC,IAAI,GAAG3D,CAAC,CAAC,IAAD,CAAD,CAAQ4D,IAAR,CAAa,MAAb,CAAX;AACA3D,MAAAA,SAAS,CAAC0D,IAAD,CAAT;AACH,KALL;AAOA1C,IAAAA,MAAM,CACD4C,QADL,CACc,cADd,EAEKf,GAFL,CAES;AACDK,MAAAA,QAAQ,EAAEW,OAAO,KAAK,OAAL,GAAe,UAD/B;AAEDV,MAAAA,GAAG,EAAEF,OAFJ;AAGDa,MAAAA,MAAM,EAAG9C,MAAM,CAAC+C,WAAP,CAAmB,IAAnB,IAA2Bd,OAA3B,GAAqCI,QAAtC,GAAkD,CAAlD,GAAsD;AAH7D,KAFT;AAQArC,IAAAA,MAAM,CAACT,EAAP,CAAU,YAAV,EAAwB,YAAW;AAC/B0B,MAAAA,eAAe,CAACK,SAAD,CAAf;AACAtB,MAAAA,MAAM,CAACgD,MAAP;AACH,KAHD;AAKA,WAAOhD,MAAP;AACH;;AAED,WAAS8B,UAAT,CAAoBmB,OAApB,EAA6B;AACzB;AACA;AACA;AACA;AACA,WAAOA,OAAP;AACH;;AAED,WAASjC,iBAAT,GAA6B;AACzBjC,IAAAA,CAAC,CAAC,8BAAD,CAAD,CAAkCiE,MAAlC;AACAjE,IAAAA,CAAC,CAAC,mBAAD,CAAD,CAAuBiE,MAAvB;AACAjE,IAAAA,CAAC,CAAC,kBAAD,CAAD,CAAsBqC,WAAtB,CAAkC,MAAlC;AACH;;AAED,WAASrB,OAAT,GAAmB;AACf,WAAOb,KAAK,CAACsC,QAAN,CAAe,OAAf,CAAP;AACH;;AAED,WAASvB,kBAAT,GAA8B;AAC1B,WAAOd,KAAK,CAACqC,QAAN,CAAe,iBAAf,KAAqCrC,KAAK,CAACqC,QAAN,CAAe,sBAAf,CAA5C;AACH;;AACD,WAASf,gBAAT,GAA4B;AACxB,WAAOtB,KAAK,CAACqC,QAAN,CAAe,eAAf,CAAP;AACH;AACD;AACJ;AACA;AACA;;;AACI,WAASqB,OAAT,GAAmB;AACf,WAAO1D,KAAK,CAACqC,QAAN,CAAe,cAAf,CAAP;AACH;;AAED,WAAStB,aAAT,GAAyB;AACrB,WAAOf,KAAK,CAACqC,QAAN,CAAe,aAAf,CAAP;AACH;AAEJ,CAlKD,E,CAkKE","sourcesContent":["import $ from '../Common/wrapper.js';\r\n\r\nexport default (navigator, closeSidebar) => {\r\n\r\n    var $html = $('html');\r\n    var $body = $('body');\r\n    var $sidebar = $('.sidebar');\r\n\r\n    // AUTOCOLLAPSE ITEMS\r\n    // -----------------------------------\r\n\r\n    var sidebarCollapse = $sidebar.find('.collapse');\r\n    sidebarCollapse.on('show.bs.collapse', function(event) {\r\n\r\n        event.stopPropagation();\r\n        if ($(this).parents('.collapse').length === 0)\r\n            sidebarCollapse.filter('.show').collapse('hide');\r\n\r\n    });\r\n\r\n    // SIDEBAR COLLAPSED ITEM HANDLER\r\n    // -----------------------------------\r\n\r\n\r\n    var eventName = isTouch() ? 'click' : 'mouseenter';\r\n    var subNav = $();\r\n    $sidebar.find('.sidebar-nav > li').on(eventName, function() {\r\n\r\n        if (isSidebarCollapsed() || useAsideHover()) {\r\n\r\n            subNav.trigger('mouseleave');\r\n            subNav = toggleMenuItem($(this));\r\n\r\n            // Used to detect click and touch events outside the sidebar\r\n            sidebarAddBackdrop();\r\n        }\r\n\r\n    });\r\n\r\n    var sidebarAnyclickClose = $sidebar.data('sidebarAnyclickClose');\r\n\r\n    // Allows to close\r\n    if (typeof sidebarAnyclickClose !== 'undefined') {\r\n\r\n        $('.wrapper').on('click.sidebar', function(e) {\r\n            // don't check if sidebar not visible\r\n            if (!isSidebarToggled()) return;\r\n\r\n            var $target = $(e.target);\r\n            if (!$target.parents('.aside-container').length && // if not child of sidebar\r\n                !$target.parents('.topnavbar-wrapper').length && // if not child of header\r\n                !$target.is('#user-block-toggle') && // user block toggle anchor\r\n                !$target.parent().is('#user-block-toggle') // user block toggle icon\r\n            ) {\r\n                closeSidebar()\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n\r\n\r\n    function sidebarAddBackdrop() {\r\n        var $backdrop = $('<div/>', { 'class': 'sidebar-backdrop' });\r\n        $backdrop.insertAfter('.aside-container').on(\"click mouseenter\", function() {\r\n            removeFloatingNav();\r\n        });\r\n    }\r\n\r\n    // Open the collapse sidebar submenu items when on touch devices\r\n    // - desktop only opens on hover\r\n    function toggleTouchItem($element) {\r\n        $element\r\n            .siblings('li')\r\n            .removeClass('open');\r\n        $element\r\n            .toggleClass('open');\r\n    }\r\n\r\n    // Handles hover to open items under collapsed menu\r\n    // -----------------------------------\r\n    function toggleMenuItem($listItem) {\r\n\r\n        removeFloatingNav();\r\n\r\n        var ul = $listItem.find('.sidebar-nav');\r\n\r\n        if (!ul.length) return $();\r\n        if ($listItem.hasClass('open')) {\r\n            toggleTouchItem($listItem);\r\n            return $();\r\n        }\r\n\r\n        var $aside = $('.aside-container');\r\n        var $asideInner = $('.aside-inner'); // for top offset calculation\r\n        // float aside uses extra padding on aside\r\n        var mar = parseInt($asideInner.css('padding-top'), 0) + parseInt($aside.css('padding-top'), 0);\r\n\r\n        var subNav = reactClone(ul.clone()).appendTo($aside);\r\n\r\n        toggleTouchItem($listItem);\r\n\r\n        var itemTop = ($listItem.position().top + mar) - $sidebar.scrollTop();\r\n        var vwHeight = document.body.clientHeight;\r\n\r\n        subNav.find('a')\r\n            .on('click.subnav', function(e) {\r\n                e.preventDefault();\r\n                var href = $(this).attr('href');\r\n                navigator(href);\r\n            });\r\n\r\n        subNav\r\n            .addClass('nav-floating')\r\n            .css({\r\n                position: isFixed() ? 'fixed' : 'absolute',\r\n                top: itemTop,\r\n                bottom: (subNav.outerHeight(true) + itemTop > vwHeight) ? 0 : 'auto'\r\n            });\r\n\r\n        subNav.on('mouseleave', function() {\r\n            toggleTouchItem($listItem);\r\n            subNav.remove();\r\n        });\r\n\r\n        return subNav;\r\n    }\r\n\r\n    function reactClone(domNode) {\r\n        // quick element clone using a dummy reactid\r\n        // domNode.find('[data-reactid]').andSelf().each(function(idx, el){\r\n        //     el.setAttribute('data-reactid', el.getAttribute('data-reactid') + ('.0'+idx));\r\n        // });\r\n        return domNode;\r\n    }\r\n\r\n    function removeFloatingNav() {\r\n        $('.sidebar-subnav.nav-floating').remove();\r\n        $('.sidebar-backdrop').remove();\r\n        $('.sidebar li.open').removeClass('open');\r\n    }\r\n\r\n    function isTouch() {\r\n        return $html.hasClass('touch');\r\n    }\r\n\r\n    function isSidebarCollapsed() {\r\n        return $body.hasClass('aside-collapsed') || $body.hasClass('aside-collapsed-text');\r\n    }\r\n    function isSidebarToggled() {\r\n        return $body.hasClass('aside-toggled');\r\n    }\r\n    /*\r\n    function isMobile() {\r\n        return document.body.clientWidth < APP_MEDIAQUERY.tablet;\r\n    }*/\r\n    function isFixed() {\r\n        return $body.hasClass('layout-fixed');\r\n    }\r\n\r\n    function useAsideHover() {\r\n        return $body.hasClass('aside-hover');\r\n    }\r\n\r\n} // rendered"]},"metadata":{},"sourceType":"module"}