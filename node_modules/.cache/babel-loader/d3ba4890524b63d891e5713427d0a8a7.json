{"ast":null,"code":"import { CHANGE_THEME } from '../actions/actions';\nvar LINK_ID = 'theme-stylesheet';\n\nvar createLink = function createLink() {\n  var link = document.getElementById(LINK_ID);\n\n  if (!link) {\n    var head = document.getElementsByTagName('head')[0];\n    link = document.createElement('link');\n    link.id = LINK_ID;\n    link.rel = 'stylesheet';\n    head.appendChild(link);\n  }\n\n  return link;\n};\n\nvar injectStylesheet = function injectStylesheet(stylesheet) {\n  var linkTag = createLink();\n  if (stylesheet) linkTag.href = stylesheet;\n};\n/*\r\n    Export this method to talk directly with the middleware\r\n*/\n\n\nexport var updateTheme = function updateTheme(state) {\n  if (state.theme.path !== '') injectStylesheet(state.theme.path);\n};\n/*\r\n    Hook into theme change to set a inject a selected theme\r\n*/\n\nvar themes = function themes(store) {\n  return function (next) {\n    return function (action) {\n      var result = next(action);\n\n      if (action.type === CHANGE_THEME) {\n        updateTheme(store.getState());\n      }\n\n      return result;\n    };\n  };\n};\n\nexport default themes;","map":{"version":3,"sources":["/Users/a18322/Desktop/reactjs-seed/src/store/middlewares/themes.middleware.js"],"names":["CHANGE_THEME","LINK_ID","createLink","link","document","getElementById","head","getElementsByTagName","createElement","id","rel","appendChild","injectStylesheet","stylesheet","linkTag","href","updateTheme","state","theme","path","themes","store","next","action","result","type","getState"],"mappings":"AAAA,SAASA,YAAT,QAA6B,oBAA7B;AAEA,IAAMC,OAAO,GAAG,kBAAhB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACrB,MAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwBJ,OAAxB,CAAX;;AACA,MAAI,CAACE,IAAL,EAAW;AACP,QAAMG,IAAI,GAAGF,QAAQ,CAACG,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;AACAJ,IAAAA,IAAI,GAAGC,QAAQ,CAACI,aAAT,CAAuB,MAAvB,CAAP;AACAL,IAAAA,IAAI,CAACM,EAAL,GAAUR,OAAV;AACAE,IAAAA,IAAI,CAACO,GAAL,GAAW,YAAX;AACAJ,IAAAA,IAAI,CAACK,WAAL,CAAiBR,IAAjB;AACH;;AACD,SAAOA,IAAP;AACH,CAVD;;AAYA,IAAMS,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAC,UAAU,EAAI;AACnC,MAAMC,OAAO,GAAGZ,UAAU,EAA1B;AACA,MAAIW,UAAJ,EACIC,OAAO,CAACC,IAAR,GAAeF,UAAf;AACP,CAJD;AAMA;AACA;AACA;;;AACA,OAAO,IAAMG,WAAW,GAAG,SAAdA,WAAc,CAAAC,KAAK,EAAI;AAChC,MAAGA,KAAK,CAACC,KAAN,CAAYC,IAAZ,KAAqB,EAAxB,EACIP,gBAAgB,CAACK,KAAK,CAACC,KAAN,CAAYC,IAAb,CAAhB;AACP,CAHM;AAKP;AACA;AACA;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAI,UAAAC,IAAI;AAAA,WAAI,UAAAC,MAAM,EAAI;AACtC,UAAIC,MAAM,GAAGF,IAAI,CAACC,MAAD,CAAjB;;AACA,UAAIA,MAAM,CAACE,IAAP,KAAgBzB,YAApB,EAAkC;AAC9BgB,QAAAA,WAAW,CAACK,KAAK,CAACK,QAAN,EAAD,CAAX;AACH;;AACD,aAAOF,MAAP;AACH,KAN2B;AAAA,GAAR;AAAA,CAApB;;AAQA,eAAeJ,MAAf","sourcesContent":["import { CHANGE_THEME } from '../actions/actions';\r\n\r\nconst LINK_ID = 'theme-stylesheet';\r\n\r\nconst createLink = () => {\r\n    let link = document.getElementById(LINK_ID)\r\n    if (!link) {\r\n        const head = document.getElementsByTagName('head')[0];\r\n        link = document.createElement('link');\r\n        link.id = LINK_ID;\r\n        link.rel = 'stylesheet';\r\n        head.appendChild(link);\r\n    }\r\n    return link;\r\n}\r\n\r\nconst injectStylesheet = stylesheet => {\r\n    const linkTag = createLink();\r\n    if (stylesheet)\r\n        linkTag.href = stylesheet;\r\n}\r\n\r\n/*\r\n    Export this method to talk directly with the middleware\r\n*/\r\nexport const updateTheme = state => {\r\n    if(state.theme.path !== '')\r\n        injectStylesheet(state.theme.path)\r\n}\r\n\r\n/*\r\n    Hook into theme change to set a inject a selected theme\r\n*/\r\nconst themes = store => next => action => {\r\n    let result = next(action)\r\n    if (action.type === CHANGE_THEME) {\r\n        updateTheme(store.getState())\r\n    }\r\n    return result\r\n}\r\n\r\nexport default themes;"]},"metadata":{},"sourceType":"module"}